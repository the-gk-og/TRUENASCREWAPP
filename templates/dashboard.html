{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="card">
    <h2>Welcome, {{ current_user.username }}! </h2>
</div>

<div class="grid">
    <div class="card">
        <h3 style="margin-bottom: 1rem;">ðŸ“¦ Equipment</h3>
        <p style="margin-bottom: 1rem;">locate equipment</p>
        <a href="{{ url_for('equipment_list') }}" class="btn btn-primary">View Equipment.</a>
    </div>
    
    <div class="card">
        <h3 style="margin-bottom: 1rem;">ðŸ“‹ Pick Lists</h3>
        <p style="margin-bottom: 1rem;">Collaborative checklists for events.</p>
        <a href="{{ url_for('picklist') }}" class="btn btn-primary">View Pick Lists</a>
    </div>
    
    <div class="card">
        <h3 style="margin-bottom: 1rem;">ðŸŽ¨ Stage Plans</h3>
        <p style="margin-bottom: 1rem;">Upload and share stage layouts.</p>
        <a href="{{ url_for('stageplans') }}" class="btn btn-primary">View Stage Plans</a>
    </div>
    
    <div class="card">
        <h3 style="margin-bottom: 1rem;">ðŸ“… Calendar</h3>
        <p style="margin-bottom: 1rem;">Schedule events and assign crew members.</p>
        <a href="{{ url_for('calendar') }}" class="btn btn-primary">View Calendar</a>
    </div>
</div>

<div class="card">
    <h3 style="margin-bottom: 1rem;">Upcoming Events</h3>
    {% if upcoming_events %}
    <table>
        <thead>
            <tr>
                <th>Event</th>
                <th>Date</th>
                <th>Location</th>
                <th>Crew Assigned</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for event in upcoming_events %}
            <tr>
                <td><strong>{{ event.title }}</strong></td>
                <td>{{ event.event_date.strftime('%b %d, %Y at %I:%M %p') }}</td>
                <td>{{ event.location or 'N/A' }}</td>
                <td>{{ event.crew_assignments|length }} members</td>
                <td>
                    <a href="{{ url_for('event_detail', id=event.id) }}" class="btn btn-primary" style="padding: 0.5rem 1rem; font-size: 0.9rem;">View Details</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="color: #666; text-align: center; padding: 2rem;">No upcoming events scheduled.</p>
    {% endif %}
</div>
{% endblock %}